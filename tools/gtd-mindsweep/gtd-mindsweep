#!/usr/bin/env ruby

$LOAD_PATH.unshift File.expand_path('../../lib', __dir__)
require 'gtd/mindsweep/cli'

begin
  exit_code = GTD::Mindsweep::CLI.new(ARGV).run
  exit(exit_code || 0)
rescue GTD::Mindsweep::MissingTriggersFile
  script_dir = File.dirname(__FILE__)
  warn "Error: Triggers file not found at #{File.join(script_dir, 'sweep_triggers.txt')}"
  exit 1
rescue GTD::Mindsweep::Error => e
  warn "Error: #{e.message}"
  exit 1
end
